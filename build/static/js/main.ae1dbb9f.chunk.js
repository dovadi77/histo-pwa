(this["webpackJsonphisto-pwa"]=this["webpackJsonphisto-pwa"]||[]).push([[0],{168:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},195:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(38),s=n.n(c),r=(n(168),n(273)),o=n(115),l=n(277),j=Object(o.a)({palette:{primary:{main:"#363636",contrastText:"#FBFAFC"},secondary:{main:"#FEEDE2",contrastText:"#000000"}},typography:{fontFamily:"'Poppins', sans-serif"}}),u=j=Object(l.a)(j),d=n(16),b=n(8),h=n(23),m=n(60),f=n.n(m),O=n(206),x=n(279),g=n(263),p=n(276),v=n(269),k=n(47),w=n(268),T=n(0),y=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,C=/^(?=.*\d)(?=.*[a-z])/i;function S(e){var t,n=e.input,i=e.setValid,c=e.type,s=e.oldValue,r=void 0===s?"":s,o=Object(a.useState)(r),l=Object(b.a)(o,2),j=l[0],u=l[1],d=Object(a.useState)(""),h=Object(b.a)(d,2),m=h[0],f=h[1];return Object(T.jsx)(w.a,{margin:"normal",required:null===(t=n[3])||void 0===t||t,fullWidth:!0,id:n[0],label:n[1],name:n[0],autoComplete:n[0],type:n[2],autoFocus:"email"===n[0],defaultValue:j,error:!!m,helperText:m||null,onChange:function(e){"email"===n[0]&&(e.target.value.length>2?y.test(e.target.value)?(f(null),i(!0)):(f("Format email tidak cocok"),i(!1)):(f(null),i(!1))),"register"===c?"password"===n[2]&&(e.target.value.length>7?C.test(e.target.value)?(f(null),i(!0)):(f("Password harus memiliki kombinasi huruf dan angka"),i(!1)):(f("Minimal 8 karakter"),i(!1))):"update"===c&&("password"!==n[0]&&"confirm_password"!==n[0]||(e.target.value.length>7?C.test(e.target.value)?(f(null),i(!0)):(f("Password harus memiliki kombinasi huruf dan angka"),i(!1)):(f("Minimal 8 karakter"),i(!1)))),"username"===n[0]&&(e.target.value.length>3?(f(null),i(!0)):(f("Nama Pengguna harus diisi, minimal 4 karakter"),i(!1))),u(e.target.value)}})}var E=n(77),N=n.n(E),B=n(133),P={apiBaseURL:"https://histo-dashboard.dovadi.my.id/api/v1/"};var z=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(null),s=Object(b.a)(c,2),r=s[0],o=s[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(B.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(P.apiBaseURL).concat(t.url),t.data);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,i(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),!1===e.t0.success?i(e.t0):i({success:!1,message:"Sistem sedang offline"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();r&&e(r)}),[r]),{response:n,setConfig:o}};var A=function(){return{checkCookie:function(e){var t=function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var i=n[a];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e);return t||null},setCookie:function(e,t,n,a){var i="expires=Thu, 01 Jan 1970 00:00:00 UTC";if(!a){var c=new Date;c.setTime(c.getTime()+60*n*60*1e3),i="expires="+c.toUTCString()}document.cookie=e+"="+t+";"+i+";path=/"}}},M=function(e){var t=e.type;return Object(T.jsxs)("div",{className:"centerTitle",style:{height:"login"===t?"30vh":"18vh",justifyContent:"login"===t?"center":"flex-end"},children:[Object(T.jsx)(O.a,{component:"h1",variant:"h1",fontWeight:"800",children:"HISTO"}),Object(T.jsx)("div",{style:{transform:"translate(0,-1em)"},children:Object(T.jsx)(O.a,{component:"h2",variant:"h4",children:"Jasmerah"})})]})};function U(e){return Object(T.jsxs)(O.a,Object(h.a)(Object(h.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(T.jsx)(x.a,{color:"inherit",href:"#",children:"Histo"})," ",(new Date).getFullYear(),"."]}))}var F={login:[["email","Email","email"],["password","Password","password"]],register:[["name","Nama","text",!1],["username","Nama Pengguna","text"],["email","Email","email"],["password","Password","password"],["confirm_password","Konfirmasi Password","password"]]};function _(e){var t=e.setToken,n=e.token,i=e.type,c=Object(a.useState)(!1),s=Object(b.a)(c,2),r=s[0],o=s[1],l=Object(a.useState)(!1),j=Object(b.a)(l,2),u=j[0],h=j[1],m=Object(k.b)().enqueueSnackbar,w=A(),y=w.setCookie,C=w.checkCookie,E=z(),N=E.response,B=E.setConfig,P=C("token"),_=Object(d.g)(),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";m(e,{variant:t})};P&&"login"===i&&(n||(y("token",null,0,!0),f.a.fire({title:"Silahkan Login Kembali",text:"Sesi sudah tidak valid, silahkan login kembali",showCloseButton:!0,showConfirmButton:!1,icon:"error"})));var W=function(e,t){return{url:e,data:{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}}};return Object(a.useEffect)((function(){if(N)(e=N).success?setTimeout((function(){t(e.data.token),h(!1)}),1e3):(D(e.message),h(!1));else var e}),[N,t]),Object(T.jsx)("div",{children:Object(T.jsxs)(g.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(T.jsx)(M,{type:i}),Object(T.jsxs)("div",{className:"userForm",style:{height:"login"===i?"70vh":"82vh"},children:[Object(T.jsxs)(g.a,{component:"form",onSubmit:function(e){e.preventDefault();var t,n=Object.fromEntries(new FormData(e.currentTarget));"login"===i?""===n.email||""===n.password?D("Email / Password tidak boleh kosong !!!"):(h(!0),B(W("user/login",{email:n.email,password:n.password}))):""===n.email||""===n.password||""===n.confirmPassword||""===n.username?D("Nama Pengguna / Email / Password / Konfirmasi Password tidak boleh kosong !!!"):(h(!0),B(W("user/register",{email:n.email,password:n.password,confirm_password:n.confirm_password,username:n.username,name:null!==(t=n.name)&&void 0!==t?t:null})))},sx:{mt:1,px:6},children:[Object(T.jsxs)("div",{style:{textAlign:"center",margin:"2em 0"},children:[Object(T.jsx)(O.a,{component:"h3",variant:"h5",fontWeight:"500",children:"login"===i?"Selamat Datang,":"Daftarkan Dirimu,"}),Object(T.jsx)(O.a,{component:"h3",variant:"h5",fontWeight:"500",children:"login"===i?"Para Pejuang!":"Menjadi Seorang Pejuang!"})]}),F[i].map((function(e){return Object(T.jsx)(S,{input:e,type:i,setValid:o},e[0])})),Object(T.jsx)(v.a,{loading:u,type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:!r,children:"login"===i?"Masuk >":"Daftar >"}),Object(T.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object(T.jsx)(p.a,{item:!0,children:Object(T.jsx)(x.a,{variant:"body2",href:"#",onClick:function(e){e.preventDefault(),_("".concat("login"===i?"/register":"/login"))},children:"login"===i?"Belum memiliki akun? Daftar":"Sudah memiliki akun? Masuk"})})})]}),Object(T.jsx)(U,{sx:{mt:2}})]})]})})}var D=function(){var e=A(),t=e.checkCookie,n=e.setCookie,i=Object(a.useState)(function(){var e=t("token");return JSON.parse(e)}()),c=Object(b.a)(i,2),s=c[0],r=c[1];return{setToken:function(e){e?(n("token",JSON.stringify(e),24),r(e)):r(null)},token:s}},W=n(296),I=n(297),q=n(289),L=n(278),R=n(298),K=n(299),H=n(264),J=n(142),V=n.n(J),G=n(143),Y=n.n(G),$=n(144),Q=n.n($),X=n(14),Z=n(280),ee=n(281),te=n(282),ne=n(28),ae=function(e,t){return{url:e,data:{method:"get",headers:{Authorization:"Bearer ".concat(t)}}}},ie=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={Authorization:"Bearer ".concat(n)};return a&&(i["Content-Type"]="application/json"),{url:e,data:{method:"post",headers:i,body:a?JSON.stringify(t):t}}},ce=function(e,t,n){return{url:e,data:{method:"put",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)}}},se=(n(55),function(e){var t=e.token,n=e.setToken,i=e.setTitle,c=e.setBack,s=Object(d.g)(),r=Object(a.useState)([]),o=Object(b.a)(r,2),l=o[0],j=o[1],h=z(),m=h.response,f=h.setConfig;Object(a.useEffect)((function(){i("Materi"),c(!1)}),[]),Object(a.useEffect)((function(){m&&("Unauthorized"===m.message?n(null):setTimeout((function(){j([].concat(Object(X.a)(l),Object(X.a)(m.data.latest)))}),1e3))}),[m,n]),Object(a.useEffect)((function(){f(ae("material",t))}),[f,t]);var x=function(e){return e=e.item,Object(T.jsx)(Z.a,{style:{margin:"".concat(u.spacing(4)," 0")},children:Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(H.a,{className:"material-filter",onClick:function(){return s("list",{state:e.id})},children:Object(T.jsx)(O.a,{variant:"h5",color:"rgb(255, 255, 255)",textAlign:"center",sx:{margin:"0 0.5em"},children:e.title})}),Object(T.jsx)(te.a,{component:"img",height:"160",image:e.banner,alt:e.title})]})})},g=function(){return Object(T.jsx)("div",{style:{margin:"".concat(u.spacing(4)," 0")},children:Object(T.jsx)("div",{style:{height:"160px"},children:Object(T.jsx)(ne.a,{height:160})})})};return Object(T.jsx)(H.a,{children:l.length>0?l.map((function(e){return Object(T.jsx)(x,{item:e},e.title)})):function(){for(var e=[],t=0;t<3;t++)e.push(Object(T.jsx)(g,{},10*Math.random()));return Object(T.jsx)(T.Fragment,{children:e})}()})}),re=n(92),oe=n.n(re),le=function(e){var t=e.token,n=e.setToken,i=e.setTitle,c=e.setBack,s=Object(d.g)(),r=Object(a.useState)([]),o=Object(b.a)(r,2),l=o[0],j=o[1],h=Object(a.useState)(1),m=Object(b.a)(h,2),f=m[0],x=m[1],g=Object(a.useState)(!0),p=Object(b.a)(g,2),v=p[0],k=p[1],w=z(),y=w.response,C=w.setConfig,S=Object(d.f)().state;Object(a.useEffect)((function(){i("Daftar Materi"),c(!0)}),[]),Object(a.useEffect)((function(){y&&("Unauthorized"===y.message?n(null):setTimeout((function(){j([].concat(Object(X.a)(l),Object(X.a)(y.data.latest))),y.data.metadata.max_data<11&&1===f&&k(!1)}),1e3))}),[y,n]),Object(a.useEffect)((function(){C(ae("material?id=".concat(S,"&page=").concat(f),t))}),[C,t,f]);var E=function(e){return e=e.item,Object(T.jsx)(Z.a,{style:{margin:"".concat(u.spacing(4)," 0")},children:Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(H.a,{className:"material-filter",onClick:function(){return s("detail",{state:e})},children:Object(T.jsx)(O.a,{variant:"h5",color:"rgb(255, 255, 255)",textAlign:"center",sx:{margin:"0 0.5em"},children:e.title})}),Object(T.jsx)(te.a,{component:"img",height:"160",image:e.banner,alt:e.title})]})})},N=function(){return Object(T.jsx)("div",{style:{margin:"".concat(u.spacing(4)," 0")},children:Object(T.jsx)("div",{style:{height:"160px"},children:Object(T.jsx)(ne.a,{height:160})})})},B=function(){for(var e=[],t=0;t<3;t++)e.push(Object(T.jsx)(N,{},10*Math.random()));return Object(T.jsx)(T.Fragment,{children:e})};return Object(T.jsx)(oe.a,{initialLoad:!1,loadMore:function(){y&&(y.data.metadata.max_page>f?setTimeout((function(){k(!0),x(f+1)}),1e3):k(!1))},hasMore:v,loader:Object(T.jsx)(N,{},10*Math.random()),children:Object(T.jsx)(H.a,{children:l.length>0?l.map((function(e){return Object(T.jsx)(E,{item:e},10*Math.random())})):Object(T.jsx)(B,{})})})},je=n(275),ue=n(267),de=n(145),be=function(e){var t=e.setBack,n=e.setTitle,i=e.setToken,c=e.token,s=Object(d.g)(),r=Object(a.useState)(),o=Object(b.a)(r,2),l=o[0],j=o[1],h=z(),m=h.response,f=h.setConfig,x=Object(d.f)().state;Object(a.useEffect)((function(){n("Pembelajaran"),t(!0)}),[]),Object(a.useEffect)((function(){m&&("Unauthorized"===m.message?i(null):setTimeout((function(){j(m.data)}),1e3))}),[m,i]),Object(a.useEffect)((function(){f(ae("material/".concat(x.id),c))}),[f,c]);var g=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)("img",{alt:"abc",src:l.banner,style:{width:"100%"}}),Object(T.jsxs)("div",{style:{marginTop:u.spacing(4)},children:[Object(T.jsx)(O.a,{component:"h1",variant:"h4",align:"center",children:l.title}),Object(T.jsx)("div",{style:{marginTop:u.spacing(2),textAlign:"justify"},children:Object(T.jsx)(ue.a,{children:l.content,remarkPlugins:[de.a]})}),void 0!==l.score&&Object(T.jsxs)(O.a,{component:"h3",variant:"h5",sx:{marginTop:u.spacing(2)},children:["Skor terakhir : ",l.score]})]}),Object(T.jsx)("div",{className:"flex-center",style:{margin:"".concat(u.spacing(4)," 0")},children:Object(T.jsx)(je.a,{fullWidth:!0,variant:"contained",onClick:function(){void 0===l.score?s("/material/quiz",{state:x.id}):s("/material/quiz/update",{state:x.id})},children:void 0!==l.score?"Main Lagi":"Bermain"})})]})},p=function(){return Object(T.jsxs)("div",{style:{height:"60vh"},children:[Object(T.jsx)("div",{children:Object(T.jsx)(ne.a,{height:150})}),Object(T.jsx)("div",{style:{marginTop:u.spacing(4)},children:Object(T.jsx)(ne.a,{height:300})}),Object(T.jsx)("div",{style:{marginTop:u.spacing(4)},children:Object(T.jsx)(ne.a,{height:50})})]})};return Object(T.jsx)(H.a,{sx:{display:"flex",flex:1,flexDirection:"column",marginTop:"1em"},children:l?Object(T.jsx)(g,{}):Object(T.jsx)(p,{})})},he=n(45),me=n.n(he),fe=(n(185),function(e){return Object(T.jsx)("h1",{className:"question",children:e.question})}),Oe=(n(186),function(e){var t=Object(a.useState)(null),n=Object(b.a)(t,2),i=n[0],c=n[1];Object(a.useEffect)((function(){c(null)}),[e.answer]);var s=function(){var t=function(t){var n="";return null!==i&&(t===parseInt(e.correctAnswer)&&(n+="correct "),t===i&&(n+="choosed ",t!==parseInt(e.correctAnswer)&&(n+="incorrect "))),n};return e.answer.map((function(n,a){return Object(T.jsx)("li",{className:t(a),onClick:function(){return t=a,void(i||(c(t),e.saveAnswer(t)));var t},children:n},a)}))};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("ul",{disabled:null!==i,className:"Answer",children:Object(T.jsx)(s,{})}),Object(T.jsx)("div",{children:null!==i?i===parseInt(e.correctAnswer)?"Jawaban Benar!":"Jawaban Salah!":""})]})}),xe=(n(187),n(283)),ge=me()((function(e){return{userTime:0,increaseTime:function(){return e((function(e){return{userTime:e.userTime+1}}))}}})),pe=function(){return ge.getState().userTime};function ve(e){var t,n=e.maxTime,i=ge((function(e){return e.userTime})),c=ge((function(e){return e.increaseTime}));return a.useEffect((function(){ge.setState({userTime:0})}),[]),a.useEffect((function(){var e=setInterval((function(){i>n&&clearInterval(e),c()}),1e3);return function(){clearInterval(e)}}),[]),Object(T.jsx)(g.a,{sx:{width:"100%",position:"fixed",bottom:0,left:0},children:Object(T.jsx)(xe.a,{sx:{height:20},variant:"determinate",value:(t=i,100*t/n)})})}var ke=me()((function(e){return{userAnswer:[],step:0,score:0}})),we=function(e){var t=e.content,n=e.answer,i=e.setToken,c=e.url,s=e.quiz_id,r=e.token,o=e.update,l=e.maxTime,j=n.split(","),u=ke(),b=u.userAnswer,h=u.step,m=u.score,f=z(),O=f.response,x=f.setConfig,p=Object(d.g)();Object(a.useEffect)((function(){ke.setState({userAnswer:[],step:0,score:0})}),[]),Object(a.useEffect)((function(){O&&("Unauthorized"===O.message?i(null):ke.setState({score:O.data.score}))}),[O,i]);var v=function(){var e={};e=s?{quiz_id:s,user_answer:b.join(",")}:{user_answer:b.join(","),user_time:pe()},x(o?ce(c,e,r):ie(c,e,r))};return Object(T.jsx)("div",{className:"Content",children:h<t.length?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(g.a,{children:[Object(T.jsx)(fe,{question:t[h].question}),Object(T.jsx)(Oe,{answer:t[h].choices,saveAnswer:function(e){ke.setState({userAnswer:[].concat(Object(X.a)(b),[e])})},correctAnswer:j[h]}),Object(T.jsx)(je.a,{variant:"contained",color:"success",fullWidth:!0,sx:{marginY:"1em"},disabled:b.length-1!==h,onClick:function(){ke.setState({step:h+1}),h>=t.length-1&&v()},children:"Next"})]}),!s&&Object(T.jsx)(ve,{maxTime:l})]}):Object(T.jsxs)("div",{className:"finalPage",children:[Object(T.jsxs)("h1",{children:["Anda telah menyelesaikan ",s?"KUIS":"PERMAINAN"]}),Object(T.jsx)("h3",{children:"Skor anda:"}),Object(T.jsx)("h2",{style:{fontSize:"11em",margin:0},children:m}),Object(T.jsx)("div",{className:"btn-bottom",children:Object(T.jsxs)(je.a,{fullWidth:!0,variant:"contained",onClick:function(){p(-2)},children:["Kembali ke ",s?"Daftar Materi":"Daftar Permainan"]})})]})})},Te=n(284),ye=n(265),Ce=n(285),Se=n(286),Ee=n(287),Ne=n(288),Be=n(68),Pe=n.n(Be),ze=n(137),Ae=n.n(ze),Me=n(138),Ue=n.n(Me);var Fe=function(e){var t=e.content,n=e.answer,c=e.setToken,s=e.title,r=e.url,o=e.quiz_id,l=e.token,j=e.update,u=e.maxTime,h=i.a.useState(!1),m=Object(b.a)(h,2),f=m[0],O=m[1],x=i.a.useState(""),g=Object(b.a)(x,2),v=g[0],k=g[1],w=i.a.useState(null),y=Object(b.a)(w,2),C=y[0],S=y[1],E=z(),N=E.response,B=E.setConfig,P=Object(d.g)(),A=Object(Be.useSpeechRecognition)(),M=A.transcript,U=A.resetTranscript,F=A.listening,_=function(){O(!1)},D=function(e){P(e)};return Object(a.useEffect)((function(){!F&&M.length>0&&k((function(e){return e+(0===e.length?"":" ")+M}))}),[F,M]),Object(a.useEffect)((function(){N&&("Unauthorized"===N.message?c(null):S(N.data.score))}),[N,c]),Object(T.jsxs)("div",{className:"content",children:[Object(T.jsxs)(Te.a,{open:f||v===n,onClose:_,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(ye.a,{id:"alert-dialog-title",children:s}),Object(T.jsx)(Ce.a,{children:Object(T.jsx)(Se.a,{id:"alert-dialog-description",children:t[0]})}),Object(T.jsx)(Ee.a,{children:Object(T.jsx)(je.a,{onClick:_,children:"Tutup"})})]}),Pe.a.browserSupportsSpeechRecognition()?null===C?Object(T.jsxs)(H.a,{children:[Object(T.jsxs)(L.a,{elevation:0,children:[Object(T.jsx)(p.a,{align:"center",children:Object(T.jsx)("h2",{children:s})}),Object(T.jsx)("p",{children:t[1]})]}),Object(T.jsxs)(L.a,{elevation:0,children:[Object(T.jsxs)("div",{style:{position:"relative",textAlign:"center"},children:[Object(T.jsx)("h2",{children:"Hasil Input Suara"}),Object(T.jsx)("div",{style:{position:"absolute",top:0,right:0},children:Object(T.jsx)(Ne.a,{onClick:function(){Pe.a.stopListening(),setTimeout((function(){U(),k("")}),100)},color:"primary",variant:"text",children:Object(T.jsx)(Ae.a,{})})}),Object(T.jsx)("div",{style:{position:"absolute",top:0,left:0},children:Object(T.jsx)(Ne.a,{onClick:function(){O(!0)},color:"primary",variant:"text",children:Object(T.jsx)(Ue.a,{})})})]}),Object(T.jsx)("div",{className:"voice-input",children:Object(T.jsx)("p",{children:F?v+(0===v.length?"":" ")+M:v})})]}),Object(T.jsx)(je.a,{onClick:function(){F?Pe.a.stopListening():Pe.a.startListening({language:"id"})},color:F?"error":"success",variant:"contained",fullWidth:!0,sx:{marginBottom:"1em"},children:F?"Stop Berbicara":"Mulai Berbicara"}),Object(T.jsx)(je.a,{color:"primary",variant:"contained",sx:{marginBottom:"1em"},onClick:function(){var e={};e=o?{quiz_id:o,user_answer:v}:{user_answer:v,user_time:pe()},B(j?ce(r,e,l):ie(r,e,l))},fullWidth:!0,disabled:0===v.length||F,children:"Cek Jawaban"}),!o&&Object(T.jsx)(ve,{maxTime:u})]}):Object(T.jsxs)("div",{className:"finalPage",children:[Object(T.jsxs)("h1",{children:["Anda telah menyelesaikan ",o?"KUIS":"PERMAINAN"]}),Object(T.jsx)("h3",{children:"Skor anda:"}),Object(T.jsx)("h2",{style:{fontSize:"11em",margin:0},children:C}),Object(T.jsx)("div",{className:"btn-bottom",children:Object(T.jsxs)(je.a,{fullWidth:!0,variant:"contained",onClick:function(){return D(-2)},children:["Kembali ke ",o?"Daftar Materi":"Daftar Permainan"]})})]}):Object(T.jsxs)("div",{className:"finalPage",children:[Object(T.jsx)("h1",{children:"Ups terdapat kesalahan"}),Object(T.jsx)("h3",{children:"Agar bisa memainkan permainan ini mohon untuk memberikan akses mic anda"}),Object(T.jsx)("div",{className:"btn-bottom",children:Object(T.jsxs)(je.a,{fullWidth:!0,variant:"contained",onClick:function(){return D(-2)},children:["Kembali ke ",o?"Daftar Materi":"Daftar Permainan"]})})]})]})},_e=function(e){var t=e.setBack,n=e.setTitle,i=e.setToken,c=e.token,s=e.update,r=Object(a.useState)(),o=Object(b.a)(r,2),l=o[0],j=o[1],u=z(),h=u.response,m=u.setConfig,f=Object(d.f)().state,O=function(){return l?"multiple"===l.type?Object(T.jsx)(we,{content:l.content,answer:l.answer,setToken:i,token:c,quiz_id:l.id,url:"material/".concat(l.material_id,"/quiz"),update:s}):Object(T.jsx)(Fe,{content:l.content,title:l.title,answer:l.answer,setToken:i,token:c,quiz_id:l.id,url:"material/".concat(l.material_id,"/quiz"),update:s}):Object(T.jsx)(T.Fragment,{})};return Object(a.useEffect)((function(){t(!0)}),[]),Object(a.useEffect)((function(){h&&("Unauthorized"===h.message?i(null):(j(h.data),n(h.data.title)))}),[h,i]),Object(a.useEffect)((function(){m(ae("material/".concat(f,"/quiz"),c))}),[m,c]),Object(T.jsx)("div",{style:{display:"flex",minHeight:"74vh"},children:Object(T.jsx)(O,{})})};var De=function(e){var t=e.token,n=e.setToken,a=e.setBack,i=e.setTitle;return Object(T.jsx)(g.a,{sx:{mt:4,mb:4},children:Object(T.jsx)(L.a,{elevation:4,sx:{minHeight:"77vh",px:2,py:1,borderRadius:"30px"},children:Object(T.jsxs)(d.d,{children:[Object(T.jsx)(d.b,{index:!0,element:Object(T.jsx)(se,{token:t,setToken:n,setBack:a,setTitle:i})}),Object(T.jsx)(d.b,{path:"list",element:Object(T.jsx)(le,{token:t,setToken:n,setBack:a,setTitle:i})}),Object(T.jsx)(d.b,{path:"list/detail",element:Object(T.jsx)(be,{token:t,setToken:n,setBack:a,setTitle:i})}),Object(T.jsx)(d.b,{path:"quiz",element:Object(T.jsx)(_e,{token:t,setToken:n,setBack:a,setTitle:i})}),Object(T.jsx)(d.b,{path:"quiz/update",element:Object(T.jsx)(_e,{token:t,setToken:n,setBack:a,setTitle:i,update:!0})}),Object(T.jsx)(d.b,{path:"*",element:Object(T.jsx)(d.a,{to:""})})]})})})};var We=function(e){var t,n,i,c=e.user,s=e.setToken,r=e.setBack,o=e.setTitle,l=A().setCookie,j=Object(d.g)();return Object(a.useEffect)((function(){r(!1),o("Identitas Pejuang")}),[]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"profile-img",children:Object(T.jsx)(L.a,{elevation:3,className:"profile-img-container",children:Object(T.jsx)("img",{className:"img-fluid",alt:"Profile",src:void 0!==c.image?c.image+"?"+Date.now():"https://via.placeholder.com/150"})})}),Object(T.jsx)("div",{style:{padding:"7vh 0 2vh 0"},children:Object(T.jsxs)(q.a,{children:[Object(T.jsxs)(g.a,{children:[Object(T.jsx)(w.a,{margin:"normal",fullWidth:!0,id:"name",label:"Nama",name:"name",type:"text",value:null!==(t=c.name)&&void 0!==t?t:"-",disabled:!0}),Object(T.jsx)(w.a,{margin:"normal",fullWidth:!0,id:"username",label:"Nama Panggilan",name:"username",type:"text",value:null!==(n=c.username)&&void 0!==n?n:"-",disabled:!0}),Object(T.jsx)(w.a,{margin:"normal",fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",value:null!==(i=c.email)&&void 0!==i?i:"-",disabled:!0}),Object(T.jsx)(je.a,{fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},onClick:function(){return j("update")},children:"Ubah Profil"})]}),Object(T.jsx)(je.a,{fullWidth:!0,variant:"outlined",size:"small",sx:{mt:3,mb:2},onClick:function(){l("token",null,0,!0),s(null),setTimeout((function(){(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&window.location.reload()}),500)},children:"Keluar"})]})})]})},Ie=n(266),qe=n(82),Le=n(6),Re=n(139),Ke=n.n(Re),He=["children","onClose"],Je=Object(Le.a)(Te.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),Ve=function(e){var t=e.children,n=e.onClose,a=Object(qe.a)(e,He);return Object(T.jsxs)(ye.a,Object(h.a)(Object(h.a)({sx:{m:0,p:2}},a),{},{children:[t,n?Object(T.jsx)(Ne.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(T.jsx)(Ke.a,{})}):null]}))},Ge=me()((function(e){return{title:"",BodyEl:Object(T.jsx)(T.Fragment,{}),open:!1,onClick:void 0,close:function(){return e({open:!1})}}}));function Ye(){var e=Ge(),t=e.title,n=e.BodyEl,a=e.onClick,i=e.close,c=e.open;return Object(T.jsx)("div",{children:Object(T.jsxs)(Je,{onClose:i,"aria-labelledby":"customized-dialog-title",open:c,children:[Object(T.jsx)(Ve,{id:"customized-dialog-title",onClose:i,children:t}),Object(T.jsx)(Ce.a,{dividers:!0,children:n}),Object(T.jsxs)(Ee.a,{children:[Object(T.jsx)(je.a,{variant:"contained",autoFocus:!0,onClick:a,disabled:a&&!1,children:"Simpan"}),Object(T.jsx)(je.a,{autoFocus:!0,onClick:i,children:"Batal"})]})]})})}var $e=n(141),Qe=n.n($e),Xe=n(140),Ze=n.n(Xe),et=(n(194),me()((function(e){return{image:null}}))),tt=function(){return et.getState().image},nt=Object(Le.a)("input")({display:"none"});function at(){var e,t,n=Object(a.useState)(),i=Object(b.a)(n,2),c=i[0],s=i[1],r=Object(a.useRef)(null),o=Object(a.useRef)(null),l=Object(a.useState)({unit:"%",height:80,aspect:1,x:10,y:10,circularCrop:!0}),j=Object(b.a)(l,2),u=j[0],d=j[1],h=Object(a.useState)(null),m=Object(b.a)(h,2),f=m[0],O=m[1],x=Object(a.useCallback)((function(e){r.current=e}),[]);return Object(a.useEffect)((function(){if(f&&o.current&&r.current){var e=r.current,t=o.current,n=f,a=e.naturalWidth/e.width,i=e.naturalHeight/e.height,c=t.getContext("2d"),s=window.devicePixelRatio;t.width=n.width*s*a,t.height=n.height*s*i,c.setTransform(s,0,0,s,0,0),c.imageSmoothingQuality="high",c.drawImage(e,n.x*a,n.y*i,n.width*a,n.height*i,0,0,n.width*a,n.height*i),function(e,t){return new Promise((function(n,a){e.toBlob((function(e){e.name=t,n(e)}),"image/jpeg",.6)}))}(t,"updateprofile.jpg").then((function(e){et.setState({image:e})}))}}),[f]),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:Object(T.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(T.jsx)(nt,{accept:"image/*",id:"contained-button-file",type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return s(t.result)})),t.readAsDataURL(e.target.files[0])}}}),Object(T.jsx)(je.a,{fullWidth:!0,variant:"contained",component:"span",endIcon:Object(T.jsx)(Qe.a,{}),style:{marginBottom:"1em"},children:"Unggah"})]})}),Object(T.jsx)(Ze.a,{circularCrop:!0,src:c,onImageLoaded:x,crop:u,onChange:function(e){return d(e)},onComplete:function(e){return O(e)}}),Object(T.jsx)("div",{className:"flex-center",children:Object(T.jsx)("canvas",{ref:o,style:{width:Math.round(null!==(e=null===f||void 0===f?void 0:f.width)&&void 0!==e?e:0),height:Math.round(null!==(t=null===f||void 0===f?void 0:f.height)&&void 0!==t?t:0),borderRadius:"50%"}})})]})}var it=[["name","Nama","text",!1],["username","Nama Panggilan","text"]];var ct=function(e){var t=e.user,n=e.setToken,i=e.setBack,c=e.setTitle,s=e.setUpdateUser,r=e.token,o=Object(a.useState)(!1),l=Object(b.a)(o,2),j=l[0],u=l[1],h=Object(k.b)().enqueueSnackbar,m=z(),f=m.response,O=m.setConfig,x=Object(d.g)(),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";h(e,{variant:t})};Object(a.useEffect)((function(){i(!0),c("Ubah Identitas")}),[]),Object(a.useEffect)((function(){if(f)(e=f).success?(p(e.message,"success"),u(!1),s(Math.random())):"Unauthorized"===e.message?n(null):p(e.message);else var e}),[f]);var v=function(){if(tt()){Ge.getState().close();var e=new FormData;e.append("image",tt()),O(ie("user/me?_method=put",e,r,!1))}};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"profile-img",children:Object(T.jsxs)(L.a,{elevation:3,className:"profile-img-container",onClick:function(){return function(e,t,n,a){Ge.setState({title:e,BodyEl:t,open:n,onClick:a})}("Ubah foto profil",Object(T.jsx)(at,{}),!0,v)},children:[Object(T.jsx)("img",{className:"img-fluid",alt:"Profile",src:t.image+"?"+Date.now()}),Object(T.jsx)(g.a,{sx:{position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.2)",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(T.jsx)(Ie.a,{})})]})}),Object(T.jsxs)("div",{style:{padding:"7vh 0 2vh 0"},children:[Object(T.jsx)(q.a,{className:"form-update",children:Object(T.jsxs)(g.a,{component:"form",onSubmit:function(e){e.preventDefault();var t=Object.fromEntries(new FormData(e.currentTarget));""===t.username?p("Nama Pengguna tidak boleh kosong !!!"):O(ce("user/me",{username:t.username,name:t.name},r))},className:"form-update-input",children:[it.map((function(e){return Object(T.jsx)(S,{input:e,type:"update",setValid:u,oldValue:t[e[0]]},e[0])})),Object(T.jsxs)("div",{className:"btn-bottom",children:[Object(T.jsx)(je.a,{fullWidth:!0,variant:"outlined",size:"large",sx:{mt:1,mb:1},onClick:function(){return x("/profile/change-pass")},children:"Ubah Kata Sandi"}),Object(T.jsx)(je.a,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:1,mb:2},disabled:!j,children:"Simpan"})]})]})}),Object(T.jsx)(Ye,{})]})]})},st=[["old_password","Password Lama","password"],["password","Password Baru","password"],["confirm_password","Konfirmasi Password Baru","password"]];var rt=function(e){e.user;var t=e.setToken,n=e.setBack,i=e.setTitle,c=e.token,s=Object(a.useState)(!1),r=Object(b.a)(s,2),o=r[0],l=r[1],j=Object(k.b)().enqueueSnackbar,u=z(),d=u.response,h=u.setConfig,m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";j(e,{variant:t})};return Object(a.useEffect)((function(){n(!0),i("Ubah Kata Sandi")}),[]),Object(a.useEffect)((function(){if(d)(e=d).success?(m(e.message,"success"),l(!1)):"Unauthorized"===e.message?t(null):m(e.message);else var e}),[d]),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{children:Object(T.jsx)(q.a,{className:"form-update",style:{height:"73vh"},children:Object(T.jsxs)(g.a,{component:"form",onSubmit:function(e){e.preventDefault();var t=Object.fromEntries(new FormData(e.currentTarget));""===t.old_password?m("Password tidak boleh kosong !!!"):h(ce("user/change-pass",{old_password:t.old_password,password:t.password,confirm_password:t.confirm_password},c))},className:"form-update-input",children:[st.map((function(e){return Object(T.jsx)(S,{input:e,type:"update",setValid:l},e[0])})),Object(T.jsx)("div",{className:"btn-bottom",children:Object(T.jsx)(je.a,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:1,mb:2},disabled:!o,children:"Simpan"})})]})})})})},ot=function(e){var t=e.token,n=e.setToken,i=e.setBack,c=e.setTitle,s=z(),r=s.response,o=s.setConfig,l=Object(a.useState)({}),j=Object(b.a)(l,2),u=j[0],h=j[1],m=Object(a.useState)(),f=Object(b.a)(m,2),O=f[0],x=f[1];return Object(a.useEffect)((function(){r&&("Unauthorized"===r.message?n(null):h(r.data))}),[r,u,O]),Object(a.useEffect)((function(){o(ae("user/me",t))}),[o,t,O]),Object(T.jsx)(g.a,{sx:{mt:8,mb:4},children:Object(T.jsx)(L.a,{elevation:4,sx:{minHeight:"75vh",borderRadius:"30px"},children:Object(T.jsxs)(d.d,{children:[Object(T.jsx)(d.b,{index:!0,element:Object(T.jsx)(We,{token:t,setToken:n,user:u,setBack:i,setTitle:c})}),Object(T.jsx)(d.b,{path:"update",element:Object(T.jsx)(ct,{token:t,setToken:n,user:u,setUpdateUser:x,setBack:i,setTitle:c})}),Object(T.jsx)(d.b,{path:"change-pass",element:Object(T.jsx)(rt,{token:t,setToken:n,user:u,setBack:i,setTitle:c})}),Object(T.jsx)(d.b,{path:"*",element:Object(T.jsx)(d.a,{to:""})})]})})})},lt=function(e){var t=e.setTitle,n=e.setBack,i=Object(d.g)(),c=[{id:"easy",title:"mudah",color:"rgba(0,0,0,0)",fontColor:"rgb(0,0,0)",border:"2px solid #000"},{id:"medium",title:"sedang",color:"#363636",fontColor:"#FBFAFC"},{id:"hard",title:"sulit",color:"#ee6767",fontColor:"rgb(0,0,0)"}];Object(a.useEffect)((function(){t("Permainan"),n(!1)}),[]);var s=function(e){return e=e.item,Object(T.jsx)(Z.a,{style:{margin:"".concat(u.spacing(4)," 0"),borderRadius:"30px"},children:Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(H.a,{className:"material-filter category-filter",onClick:function(){return i("rank",{state:[e.id,e.title]})},children:Object(T.jsx)(O.a,{variant:"h3",color:e.fontColor,textAlign:"center",sx:{margin:"0 0.5em",fontWeight:600},children:e.title.toUpperCase()})}),Object(T.jsx)("div",{style:{height:"160px",backgroundColor:e.color,border:void 0!==e.border?e.border:"none",borderRadius:"30px"}})]})})},r=function(){return Object(T.jsx)("div",{style:{margin:"".concat(u.spacing(4)," 0")},children:Object(T.jsx)("div",{style:{height:"160px",borderRadius:"60px"},children:Object(T.jsx)(ne.a,{height:160})})})};return Object(T.jsx)(H.a,{children:c.length>0?c.map((function(e){return Object(T.jsx)(s,{item:e},e.title)})):function(){for(var e=[],t=0;t<3;t++)e.push(Object(T.jsx)(r,{},10*Math.random()));return Object(T.jsx)(T.Fragment,{children:e})}()})},jt=function(e){var t=e.token,n=e.setToken,i=e.setTitle,c=e.setBack,s=Object(d.g)(),r=Object(a.useState)([]),o=Object(b.a)(r,2),l=o[0],j=o[1],h=Object(a.useState)(1),m=Object(b.a)(h,2),f=m[0],x=m[1],g=Object(a.useState)(!0),p=Object(b.a)(g,2),v=p[0],k=p[1],w=z(),y=w.response,C=w.setConfig,S=Object(d.f)().state;Object(a.useEffect)((function(){i("Level ".concat(S[1].toUpperCase())),c(!0)}),[]),Object(a.useEffect)((function(){y&&("Unauthorized"===y.message?n(null):setTimeout((function(){j([].concat(Object(X.a)(l),Object(X.a)(y.data.latest))),y.data.metadata.max_data<11&&1===f&&k(!1)}),1e3))}),[y,n]),Object(a.useEffect)((function(){C(ae("game?level=".concat(S[0],"&page=").concat(f),t))}),[C,t,f]);var E=function(e){return e=e.item,Object(T.jsx)(Z.a,{style:{margin:"".concat(u.spacing(4)," 0")},children:Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(H.a,{className:"material-filter",onClick:function(){return s("detail",{state:e})},children:Object(T.jsx)(O.a,{variant:"h5",color:"rgb(255, 255, 255)",textAlign:"center",sx:{margin:"0 0.5em"},children:e.title})}),Object(T.jsx)(te.a,{component:"img",height:"160",image:e.banner,alt:e.title})]})})},N=function(){return Object(T.jsx)("div",{style:{margin:"".concat(u.spacing(4)," 0")},children:Object(T.jsx)("div",{style:{height:"160px"},children:Object(T.jsx)(ne.a,{height:160})})})},B=function(){for(var e=[],t=0;t<3;t++)e.push(Object(T.jsx)(N,{},10*Math.random()));return Object(T.jsx)(T.Fragment,{children:e})};return Object(T.jsx)(oe.a,{initialLoad:!1,loadMore:function(){y&&(y.data.metadata.max_page>f?setTimeout((function(){k(!0),x(f+1)}),1e3):k(!1))},hasMore:v,loader:Object(T.jsx)(N,{},10*Math.random()),children:Object(T.jsx)(H.a,{children:l.length>0?l.map((function(e){return Object(T.jsx)(E,{item:e},10*Math.random())})):Object(T.jsx)(B,{})})})},ut=n(291),dt=n(295),bt=n(294),ht=n(290),mt=n(292),ft=n(293);function Ot(e){var t=e.rows,n=e.user,a=void 0===n?0:n,i=e.overflow,c=void 0===i||i;return Object(T.jsx)(L.a,{sx:{width:"100%",overflow:"hidden"},children:Object(T.jsx)(ht.a,{sx:{maxHeight:c?550:"none"},children:Object(T.jsxs)(ut.a,{stickyHeader:c,"aria-label":"sticky table",children:[Object(T.jsx)(mt.a,{children:Object(T.jsx)(ft.a,{children:Object(T.jsx)(bt.a,{align:"center",colSpan:4,children:"Skor Tertinggi"})})}),Object(T.jsx)(dt.a,{children:t.map((function(e,t){var n,i=e.user.name?e.user.name.split(" "):null;return i&&(i=i[0]+" "+(void 0===i[1]?"":i[1].substring(0,1).toUpperCase()+".")),Object(T.jsxs)(ft.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(T.jsx)(bt.a,{className:a===t+1?"user-rank":"",children:t+1}),Object(T.jsx)(bt.a,{size:"small",padding:"none",children:Object(T.jsx)("img",{src:e.user.image,alt:e.user.username,className:"player-picture"})}),Object(T.jsx)(bt.a,{className:a===t+1?"user-rank":"",children:null!==(n="'"+e.user.username+"' "+i)&&void 0!==n?n:""}),Object(T.jsx)(bt.a,{className:a===t+1?"user-rank":"",children:e.score})]},t)}))})]})})})}var xt=function(e){var t=e.setBack,n=e.setTitle,i=e.setToken,c=e.token,s=Object(d.g)(),r=Object(a.useState)(),o=Object(b.a)(r,2),l=o[0],j=o[1],h=Object(a.useState)(),m=Object(b.a)(h,2),f=m[0],x=m[1],g=Object(a.useState)(),p=Object(b.a)(g,2),v=p[0],k=p[1],w=z(),y=w.response,C=w.setConfig,S=Object(d.f)().state;Object(a.useEffect)((function(){n("Games"),t(!0)}),[]),Object(a.useEffect)((function(){y&&("Unauthorized"===y.message?i(null):y.data.latest?(x(y.data.latest),k(y.data.additional)):setTimeout((function(){j(y.data)}),1e3))}),[y,i]),Object(a.useEffect)((function(){C(ae("game/".concat(S.id),c)),setTimeout((function(){C(ae("game/".concat(S.id,"/leaderboard"),c))}),300)}),[C,c]);var E=function(){return Object(T.jsxs)("div",{style:{textAlign:"center"},children:[Object(T.jsx)(O.a,{component:"h1",variant:"h4",children:"".concat(l.title," (").concat(l.type.toUpperCase(),")")}),Object(T.jsx)(O.a,{component:"h3",variant:"h5",sx:{marginTop:u.spacing(2)},children:"Batas waktu : ".concat(l.max_time," detik")}),Object(T.jsx)("div",{style:{marginTop:u.spacing(4)},children:Object(T.jsx)(Ot,{rows:f,user:v,overflow:!1})}),Object(T.jsx)("div",{className:"flex-center",style:{margin:"".concat(u.spacing(4)," 0")},children:Object(T.jsx)(je.a,{fullWidth:!0,variant:"contained",onClick:function(){s("/games/play",{state:S.id})},disabled:!!l.user_answer,children:"Bermain"})})]})},N=function(){return Object(T.jsxs)("div",{style:{height:"60vh"},children:[Object(T.jsx)("div",{children:Object(T.jsx)(ne.a,{height:150})}),Object(T.jsx)("div",{style:{marginTop:u.spacing(4)},children:Object(T.jsx)(ne.a,{height:300})}),Object(T.jsx)("div",{style:{marginTop:u.spacing(4)},children:Object(T.jsx)(ne.a,{height:50})})]})};return Object(T.jsx)(H.a,{sx:{display:"flex",flex:1,flexDirection:"column",marginTop:"1em"},children:l?Object(T.jsx)(E,{}):Object(T.jsx)(N,{})})},gt=function(e){var t=e.setBack,n=e.setTitle,i=e.setToken,c=e.token,s=e.update,r=Object(a.useState)(),o=Object(b.a)(r,2),l=o[0],j=o[1],u=Object(a.useState)(4),h=Object(b.a)(u,2),m=h[0],f=h[1],x=z(),g=x.response,p=x.setConfig,v=Object(d.f)().state,k=function(){if(l){if("multiple"===l.type)return Object(T.jsx)(we,{content:l.content,answer:l.answer,setToken:i,token:c,game_id:l.id,url:"game/".concat(l.id),update:s,maxTime:l.max_time});if("voice"===l.type)return Object(T.jsx)(Fe,{content:l.content,title:l.title,answer:l.answer,setToken:i,token:c,game_id:l.id,url:"game/".concat(l.id),update:s,maxTime:l.max_time})}return Object(T.jsx)(T.Fragment,{})},w=function(){return Object(T.jsx)("div",{className:"flex-center",style:{flex:1,justifyContent:"center"},children:Object(T.jsx)(O.a,{component:"h1",variant:"h1",className:"puff-in-center",children:m-1>0?m-1:"GO !!!"})})};return Object(a.useEffect)((function(){t(!0)}),[]),Object(a.useEffect)((function(){g&&("Unauthorized"===g.message?i(null):(j(g.data),n(g.data.title)))}),[g,i]),Object(a.useEffect)((function(){p(ae("game/".concat(v),c))}),[p,c]),Object(a.useEffect)((function(){var e=setTimeout((function(){m>0&&f(m-1)}),1e3);return function(){return clearTimeout(e)}}),[m]),Object(T.jsx)("div",{style:{display:"flex",minHeight:"74vh"},children:m>0?Object(T.jsx)(w,{}):Object(T.jsx)(k,{})})},pt=function(e){var t=e.setTitle,n=e.setToken,i=e.token,c=e.setBack,s=(e.category,Object(a.useState)([])),r=Object(b.a)(s,2),o=r[0],l=r[1],j=Object(a.useState)(null),u=Object(b.a)(j,2),h=u[0],m=u[1],f=z(),O=f.response,x=f.setConfig,g=Object(d.f)().state,p=Object(d.g)();return Object(a.useEffect)((function(){t("Peringkat"),c(!0)}),[]),Object(a.useEffect)((function(){O&&("Unauthorized"===O.message?n(null):(l(O.data.latest),m(O.data.additional)))}),[O,n]),Object(a.useEffect)((function(){x(ae("game/leaderboard?limit=50&level=".concat(g[0]),i))}),[x,i]),Object(T.jsxs)("div",{className:"leaderboard",children:[Object(T.jsx)(Ot,{rows:o,user:h}),Object(T.jsx)(je.a,{fullWidth:!0,variant:"contained",size:"large",sx:{mt:4},onClick:function(){return p("/games/list",{state:g})},children:"Main"})]})};var vt=function(e){var t=e.token,n=e.setToken,a=e.setBack,i=e.setTitle;return Object(T.jsx)(g.a,{sx:{mt:4,mb:4},children:Object(T.jsx)(L.a,{elevation:4,sx:{minHeight:"77vh",px:2,py:1,borderRadius:"30px"},children:Object(T.jsxs)(d.d,{children:[Object(T.jsx)(d.b,{index:!0,element:Object(T.jsx)(lt,{token:t,setToken:n,setBack:a,setTitle:i})}),Object(T.jsx)(d.b,{path:"rank",element:Object(T.jsx)(pt,{token:t,setToken:n,setBack:a,setTitle:i})}),Object(T.jsx)(d.b,{path:"list",element:Object(T.jsx)(jt,{token:t,setToken:n,setBack:a,setTitle:i})}),Object(T.jsx)(d.b,{path:"list/detail",element:Object(T.jsx)(xt,{token:t,setToken:n,setBack:a,setTitle:i})}),Object(T.jsx)(d.b,{path:"play",element:Object(T.jsx)(gt,{token:t,setToken:n,setBack:a,setTitle:i})}),Object(T.jsx)(d.b,{path:"*",element:Object(T.jsx)(d.a,{to:""})})]})})})},kt=function(e){var t=e.token,n=e.setToken,i=A().checkCookie,c=Object(a.useState)(0),s=Object(b.a)(c,2),r=s[0],o=s[1],l=Object(a.useState)("Materi"),j=Object(b.a)(l,2),u=j[0],h=j[1],m=Object(a.useState)(!1),f=Object(b.a)(m,2),x=f[0],g=f[1],p=Object(d.g)(),v=function(e){g(e)},k=function(e){h(e)};return Object(a.useEffect)((function(){var e=setInterval((function(){i("token")||(clearInterval(e),n(null))}),5e3);return function(){return clearInterval(e)}}),[i,n]),Object(a.useEffect)((function(){0===r?(h("Materi"),p("/material")):1===r?(h("Game"),p("/games")):p("/profile")}),[r]),Object(T.jsxs)(H.a,{children:[Object(T.jsx)("div",{className:"navbar-container",children:Object(T.jsx)(W.a,{position:"static",className:"navbar",children:Object(T.jsxs)(I.a,{children:[x&&Object(T.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return p(-1)},children:"<"}),Object(T.jsx)(O.a,{variant:"h6",component:"div",sx:{textAlign:"center",flexGrow:1},children:u})]})})}),Object(T.jsx)(q.a,{sx:{pb:x?1:7,pt:7},children:Object(T.jsxs)(d.d,{children:[Object(T.jsx)(d.b,{path:"/material/*",element:Object(T.jsx)(De,{token:t,setToken:n,setBack:v,setTitle:k})}),Object(T.jsx)(d.b,{path:"/games/*",element:Object(T.jsx)(vt,{token:t,setToken:n,setBack:v,setTitle:k})}),Object(T.jsx)(d.b,{path:"/profile/*",element:Object(T.jsx)(ot,{token:t,setToken:n,setBack:v,setTitle:k})}),Object(T.jsx)(d.b,{path:"*",element:Object(T.jsx)(d.a,{to:"/material"})})]})}),Object(T.jsx)(L.a,{className:"bottom-navbar-container",elevation:0,hidden:x,children:Object(T.jsxs)(R.a,{className:"bottom-navbar",showLabels:!0,value:r,onChange:function(e,t){o(t),g(!1)},children:[Object(T.jsx)(K.a,{label:"Materi",icon:Object(T.jsx)(V.a,{})}),Object(T.jsx)(K.a,{label:"Permainan",icon:Object(T.jsx)(Y.a,{})}),Object(T.jsx)(K.a,{label:"Profil",icon:Object(T.jsx)(Q.a,{})})]})})]})},wt=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{style:{minHeight:"20vh"},children:Object(T.jsx)(M,{type:"verify"})}),Object(T.jsx)("div",{className:"verifyForm",children:Object(T.jsx)(g.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(T.jsx)("h1",{children:"Verifikasi Akun mu!"})})})]})},Tt=function(){var e=D(),t=e.token,n=e.setToken;return t?Object(T.jsx)(kt,{setToken:n,token:t}):Object(T.jsxs)(d.d,{children:[Object(T.jsx)(d.b,{path:"/",element:Object(T.jsx)(_,{setToken:n,type:"login"})}),Object(T.jsx)(d.b,{path:"/register",element:Object(T.jsx)(_,{setToken:n,type:"register"})}),Object(T.jsx)(d.b,{path:"/verify",element:Object(T.jsx)(wt,{})}),Object(T.jsx)(d.b,{path:"*",element:Object(T.jsx)(d.a,{to:"/"})})]})},yt=n(36);var Ct=function(){return Object(a.useEffect)((function(){window.addEventListener("popstate",(function(){"/material"===window.location.pathname&&(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&window.location.reload()})),window.addEventListener("offline",(function(){f.a.fire("Tidak Ada Koneksi","Mohon periksa koneksi internet anda !","error")}))}),[]),Object(T.jsx)("div",{className:"App",children:Object(T.jsx)(r.a,{theme:u,children:Object(T.jsx)(k.a,{children:Object(T.jsx)(yt.a,{children:Object(T.jsx)(Tt,{})})})})})},St=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,300)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))},Et=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Nt(e,t){navigator.serviceWorker.register(e).then((function(e){e.update(),setInterval((function(){e.update(),console.log("Checked for update...")}),6e4),e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),f.a.fire({title:"Terdapat Update Baru !",text:"Silahkan update dengan menutup dan membuka kembali aplikasi ini",icon:"info",showConfirmButton:!1,allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1}),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(T.jsx)(i.a.StrictMode,{children:Object(T.jsx)(Ct,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Et?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Nt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Nt(t,e)}))}}(),St()}},[[195,1,2]]]);
//# sourceMappingURL=main.ae1dbb9f.chunk.js.map